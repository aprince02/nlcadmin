<%- include("_loggedInHeader") -%>

<h1 class="display-5">All Donations</h1>

<div class="table-responsive-sm">
    <table class="table table-hover">
      <thead>
        <tr>
          <th>Date</th>
          <th>Donor Name</th>
          <th>Amount</th>
          <th>Fund</th>
          <th>Notes</th>
          <th>Gift Aid Status</th>
        </tr>
      </thead>
      <tbody>
        <% for (const payments of model) { %>
          <tr>
            <td style="width: 100px;"><%= payments.date %></td>
            <td style="width: 200px" ><%= payments.first_name %> <%= payments.surname %></td>
            <td>Â£<%= payments.amount %></td>
            <td style="width: 175px" ><%= payments.fund %></td>
            <td><%= payments.notes %></td>
            <td><%= payments.gift_aid_status %></td>
            <td class="d-print-none">
              <a class="btn btn-sm btn-info" href="/edit-donation/<%= payments.id %>">Edit</a>
              <a class="btn btn-sm btn-danger" href="/delete-donation/<%= payments.id %>">Delete</a>
            </td>

          </tr>
        <% } %>
        <a class="btn btn-default btn-success" href="/select-giver">Add</a>
        <a class="btn btn-outline-dark cancel" href="/claimants/:page">Return</a>
      </tbody>
    </table>
  </div>

  <nav aria-label="Page navigation">
    <ul class="pagination">
      <% if (totalPages > 1) { %>
        <% for (let i = 1; i <= totalPages; i++) { %>
          <li class="page-item <%= currentPage === i ? 'active' : '' %>">
            <a class="page-link" href="/all-donations/<%= i %>"><%= i %></a>
          </li>
        <% } %>
      <% } %>
    </ul>
  </nav>
  
  <%- include("_loggedInFooter") -%>